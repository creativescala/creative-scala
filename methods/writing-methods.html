<!doctype html>
<html lang="">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Laika 0.19.0" />
    <title>Writing Methods</title>
    
    
    <meta name="description" content="book" />
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Source+Sans+Pro:300,400,600"
        rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Crimson+Pro:400" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../creative-scala.css" />
    <script src="../toc.js"></script>
    <script src="../solution.js"></script>
    <script src="../main.js"></script>
    <script> /* for avoiding page load transitions */</script>
</head>

<body>
    <nav id="topbar"><p><a href="semantics.html">←</a></p>
<p><a href="../../">Creative Scala: Form and Function</a></p>
<p><a href="conclusions.html">→</a></p></nav>
    <nav id="sidebar">
        <ul class="nav-list">
          <li class="level1 nav-leaf"><a href="../">Creative Scala: Form and Function</a></li>
          <li class="level1 nav-leaf"><a href="../foreword-1.html">Foreword to the First Edition</a></li>
          <li class="level1 nav-leaf"><a href="../foreword-2.html">Foreword to the Second Edition</a></li>
          <li class="level1 nav-node"><a href="../setup/">Getting Started</a></li>
          <li class="level2 nav-leaf"><a href="../setup/background.html">Background</a></li>
          <li class="level2 nav-leaf"><a href="../setup/terminal.html">Our Recommended Setup</a></li>
          <li class="level2 nav-leaf"><a href="../setup/github.html">GitHub</a></li>
          <li class="level2 nav-leaf"><a href="../setup/intellij.html">IntelliJ</a></li>
          <li class="level2 nav-leaf"><a href="../setup/">Setup</a></li>
          <li class="level1 nav-leaf"><a href="../part-one-introduction.html">Part One: Introduction</a></li>
          <li class="level1 nav-node"><a href="../expressions/">Expressions, Values, and Types</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/02-starting.html">Starting to Program</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/03-expressions.html">Expressions and Values</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/04-types.html">Types</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/05-exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/06-conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../expanding-expressions/">Expanding Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/02-literals.html">Literal Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/03-objects.html">Values are Objects</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/04-types.html">Types</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/05-exercises.html">Exercises</a></li>
          <li class="level1 nav-node"><a href="../expressive-expressions/">Expressive Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/01-images.html">Images</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/02-layout.html">Layout</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/03-color.html">Color</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/04-creating-color.html">Creating Colors</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/05-exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/06-conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../programs/">Writing Larger Programs</a></li>
          <li class="level2 nav-leaf"><a href="../programs/names.html">Names</a></li>
          <li class="level2 nav-leaf"><a href="../programs/abstraction.html">Abstraction</a></li>
          <li class="level2 nav-leaf"><a href="../programs/outside-worksheet.html">Working Without Worksheets</a></li>
          <li class="level2 nav-leaf"><a href="../programs/imports.html">Packages and Imports</a></li>
          <li class="level2 nav-leaf"><a href="../programs/sbt.html">Using The Build System</a></li>
          <li class="level2 nav-leaf"><a href="../programs/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../substitution/">The Substitution Model of Evaluation</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/substitution.html">Substitution</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/order.html">Order of Evaluation</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/local-reasoning.html">Local Reasoning</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="index.html">Methods without Madness</a></li>
          <li class="level2 nav-leaf"><a href="methods.html">Methods</a></li>
          <li class="level2 nav-leaf"><a href="syntax.html">Method Syntax</a></li>
          <li class="level2 nav-leaf"><a href="semantics.html">Method Semantics</a></li>
          <li class="level2 active nav-leaf"><a href="#">Writing Methods</a></li>
          <li class="level2 nav-leaf"><a href="conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../recursion/">Structural Recursion over the Natural Numbers</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/boxes.html">A Line of Boxes</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/natural-numbers.html">The Natural Numbers</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/match.html">Match Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/substitution.html">Reasoning about Recursion</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../fractals/">Fractals</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/fractals.html">Fun with Fractals</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/nested-methods.html">Nested Methods</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/auxillary-parameter.html">Auxiliary Parameters</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../polygons/">Points, Paths, and Polygons</a></li>
          <li class="level2 nav-leaf"><a href="../polygons/02-polar.html">Polar Coordinates</a></li>
          <li class="level2 nav-leaf"><a href="../polygons/03-path.html">Paths</a></li>
          <li class="level2 nav-leaf"><a href="../polygons/04-creative.html">Going Further</a></li>
          <li class="level2 nav-leaf"><a href="../polygons/05-conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../flowers/">Functions and Flowers</a></li>
          <li class="level2 nav-leaf"><a href="../flowers/functions.html">Functions as Abstractions</a></li>
          <li class="level2 nav-leaf"><a href="../flowers/fun.html">Fun with Functions</a></li>
          <li class="level2 nav-leaf"><a href="../flowers/parametric-curves.html">Parametric Curves</a></li>
          <li class="level2 nav-leaf"><a href="../flowers/flowers.html">Flowers and Other Curves</a></li>
          <li class="level2 nav-leaf"><a href="../flowers/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../cycles/">Composition and Cycles</a></li>
          <li class="level2 nav-leaf"><a href="../cycles/composition.html">Function Composition</a></li>
          <li class="level2 nav-leaf"><a href="../cycles/fun.html">Fun with Composition</a></li>
          <li class="level2 nav-leaf"><a href="../cycles/interpolation.html">Interpolation</a></li>
          <li class="level2 nav-leaf"><a href="../cycles/epicycles.html">Epicycles</a></li>
          <li class="level2 nav-leaf"><a href="../cycles/culmination.html">Bringing it Together</a></li>
          <li class="level2 nav-leaf"><a href="../cycles/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-leaf"><a href="../part-one-conclusions.html">Part One: Conclusions</a></li>
          <li class="level1 nav-leaf"><a href="../part-two-introduction.html">Part Two: Introduction</a></li>
          <li class="level1 nav-node"><a href="../loading-data/">Loading Data</a></li>
          <li class="level2 nav-leaf"><a href="../loading-data/source.html">Loading Data Using a Source</a></li>
          <li class="level1 nav-header">generative</li>
          <li class="level2 nav-leaf"><a href="../generative/flatmap.html">Combining Random Values</a></li>
          <li class="level2 nav-leaf"><a href="../generative/api.html">Exploring Random</a></li>
          <li class="level2 nav-leaf"><a href="../generative/">Composition of Generative Art</a></li>
          <li class="level2 nav-leaf"><a href="../generative/for.html">For Comprehensions</a></li>
          <li class="level2 nav-leaf"><a href="../generative/generative.html">Generative Art</a></li>
          <li class="level2 nav-leaf"><a href="../generative/product.html">Combining Random Values</a></li>
          <li class="level2 nav-leaf"><a href="../generative/random.html">Randomness without Effect</a></li>
          <li class="level2 nav-leaf"><a href="../generative/exercises.html">Exercises</a></li>
          <li class="level1 nav-header">fp</li>
          <li class="level2 nav-leaf"><a href="../fp/recursion.html">Recursive Algorithms</a></li>
          <li class="level2 nav-leaf"><a href="../fp/functions.html">Functions as Values</a></li>
          <li class="level2 nav-leaf"><a href="../fp/">(Functional) Programming</a></li>
          <li class="level2 nav-leaf"><a href="../fp/take-home-points.html">Take Home Points</a></li>
          <li class="level1 nav-header">declarations</li>
          <li class="level2 nav-leaf"><a href="../declarations/color-palette.html">Extended Exercise: Color Palettes</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/">Declarations</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/value-declarations.html">Value Declarations</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/take-home-points.html">Take Home Points</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/method-declarations.html">Method Declarations</a></li>
          <li class="level1 nav-leaf"><a href="../intro.html">Introduction</a></li>
          <li class="level1 nav-leaf"><a href="../links.html">links.md</a></li>
          <li class="level1 nav-header">turtles</li>
          <li class="level2 nav-leaf"><a href="../turtles/">Turtle Algebra and Algebraic Data Types</a></li>
          <li class="level2 nav-leaf"><a href="../turtles/branching.html">Branching Structures</a></li>
          <li class="level2 nav-leaf"><a href="../turtles/turtles.html">Controlling the Turtle</a></li>
          <li class="level2 nav-leaf"><a href="../turtles/exercises.html">Exercises</a></li>
          <li class="level1 nav-header">summary</li>
          <li class="level2 nav-leaf"><a href="../summary/">Summary</a></li>
          <li class="level1 nav-header">animation</li>
          <li class="level2 nav-leaf"><a href="../animation/reactor.html">Reactors</a></li>
          <li class="level2 nav-leaf"><a href="../animation/">Animation and Fireworks</a></li>
          <li class="level2 nav-leaf"><a href="../animation/easing.html">Easing Functions</a></li>
          <li class="level1 nav-header">adt</li>
          <li class="level2 nav-leaf"><a href="../adt/">Algebraic Data Types To Call Our Own</a></li>
          <li class="level2 nav-leaf"><a href="../adt/turtle.html">Build Your Own Turtle</a></li>
          <li class="level2 nav-leaf"><a href="../adt/adt.html">Algebraic Data Types</a></li>
          <li class="level1 nav-header">sequences</li>
          <li class="level2 nav-leaf"><a href="../sequences/lists.html">Working with Lists</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/map.html">Transforming Sequences</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/">Shapes, Sequences, and Stars</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/paths.html">Paths</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/stars.html">My God, It&#39;s Full of Stars!</a></li>
          <li class="level1 nav-header">collections</li>
          <li class="level2 nav-leaf"><a href="../collections/transform.html">Transforming Sequences</a></li>
          <li class="level2 nav-leaf"><a href="../collections/create.html">Creating Sequences</a></li>
          <li class="level2 nav-leaf"><a href="../collections/">Collections {#collections}</a></li>
          <li class="level2 nav-leaf"><a href="../collections/paths.html">Drawing Paths</a></li>
          <li class="level2 nav-leaf"><a href="../collections/take-home-points.html">Take Home Points</a></li>
          <li class="level1 nav-leaf"><a href="../solutions.html">Solutions to Exercises {#solutions}</a></li>
          <li class="level1 nav-header">quickreference</li>
          <li class="level2 nav-leaf"><a href="../quickreference/">Syntax Quick Reference {#syntax-quick-reference}</a></li>
          <li class="level1 nav-header">data</li>
          <li class="level2 nav-leaf"><a href="../data/">Creating and Working With Data</a></li>
          <li class="level2 nav-leaf"><a href="../data/data.html">Data</a></li>
          <li class="level2 nav-leaf"><a href="../data/case-classes.html">Case Classes</a></li>
        </ul>
    </nav>

    <div id="content">
        <main class="content">
            <h1 id="writing-methods" class="title">Writing Methods</h1>
            <p>There is a systematic way to writing methods that will help us implement methods correctly.
            We&#39;ve already talked about this in the solution to some exercises, but it is worth calling out here.</p>
            <p>Our first goal is to build a <em>method skeleton</em>, which is a method declaration with the body replaced with <code>???</code>.
            This tells us the name of the method, its parameters and their types, and the type of the result.
            We then fill in the body.</p>
            <p>For example, we could describe the method <code>boxes</code> as a method that accepts a <code>Color</code> value and returns five boxes in a row filled with that color.
            From this we can infer:</p>
            <ul>
              <li>the name <code>boxes</code>;</li>
              <li>there is a single <code>Color</code> parameter; and</li>
              <li>the result is an <code>Image</code>.</li>
            </ul>
            <p>The skeleton for this is</p>
            <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">boxes</span><span>(</span><span class="identifier">color</span><span>: </span><span class="type-name">Color</span><span>): </span><span class="type-name">Image</span><span> =
  ???</span></code></pre>
            <p>Notice that Scala will let you run this skeleton, and it will fail with an exception.</p>
            <pre><code class="nohighlight"><span class="identifier">boxes</span><span>(</span><span class="type-name">Color</span><span>.</span><span class="identifier">mistyRose</span><span>)</span></code></pre>
            <p>The reason we use this technique is it allows us to do <em>type-driven development</em>.
            The types give us a lot of structure to our program, and as we&#39;ll see in the next chapter given a type we can derive a lot of our program in many cases.
            By declaring the types but not implementing the body we can get Scala&#39;s type checker to see if large programs make sense, from the point of view of types, before we start implementing them.
            This is an extremely powerful technique that we will only scratch the surface of.</p>
            <p>Now we know all about methods let&#39;s implement some more complex examples.</p>
            <div class="exercise">
              
              <h4 id="exercise-gradient-boxes">Exercise: Gradient Boxes</h4>
              <p>Let&#39;s turn <code>boxes</code> up to eleven by making the color of the boxes change in a smooth gradient, like that shown below.</p>
              <p>To minimise the amount of code we have to write, implement this by writing <em>two</em> methods.
              The first method, <code>box</code>, should accept a <code>Color</code> and an <code>Angle</code> and create a box with the color spun by the angle.
              The second method, <code>graidentBoxes</code>, should accept a <code>Color</code> and return an <code>Image</code> of five boxes filled with a gradient starting from the given color and changing by <code>15.degrees</code> at each successive box. <code>gradientBoxes</code> should make use of <code>box</code>.
              Remember to write out the method skeletons first.</p>
              <p><img src="gradient-boxes.svg" alt="Five boxes filled with a gradient starting from Royal Blue" title="Figure Some(#fig:methods:gradient-boxes): caption"></p>
            </div>
            <div class="solution">
              <div class="solution-body">
                <p>The first step is to write out the skeletons.</p>
                <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">box</span><span>(</span><span class="identifier">color</span><span>: </span><span class="type-name">Color</span><span>, </span><span class="identifier">spin</span><span>: </span><span class="type-name">Angle</span><span>): </span><span class="type-name">Image</span><span> =
  ???

</span><span class="keyword">def</span><span> </span><span class="declaration-name">gradientBoxes</span><span>(</span><span class="identifier">color</span><span>: </span><span class="type-name">Color</span><span>): </span><span class="type-name">Image</span><span> =
  ???</span></code></pre>
                <p>Now fill in the body of the methods.</p>
                <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">box</span><span>(</span><span class="identifier">color</span><span>: </span><span class="type-name">Color</span><span>, </span><span class="identifier">spin</span><span>: </span><span class="type-name">Angle</span><span>): </span><span class="type-name">Image</span><span> =
  </span><span class="type-name">Image</span><span>.</span><span class="identifier">rectangle</span><span>(</span><span class="number-literal">40</span><span>, </span><span class="number-literal">40</span><span>)
    .</span><span class="identifier">strokeWidth</span><span>(</span><span class="number-literal">5.0</span><span>)
    .</span><span class="identifier">strokeColor</span><span>(</span><span class="identifier">color</span><span>.</span><span class="identifier">spin</span><span>(</span><span class="identifier">spin</span><span> + </span><span class="number-literal">30</span><span>.</span><span class="identifier">degrees</span><span>))
    .</span><span class="identifier">fillColor</span><span>(</span><span class="identifier">color</span><span>.</span><span class="identifier">spin</span><span>(</span><span class="identifier">spin</span><span>)) 

</span><span class="keyword">def</span><span> </span><span class="declaration-name">gradientBoxes</span><span>(</span><span class="identifier">color</span><span>: </span><span class="type-name">Color</span><span>): </span><span class="type-name">Image</span><span> = {
  </span><span class="identifier">box</span><span>(</span><span class="identifier">color</span><span>, </span><span class="number-literal">0</span><span>.</span><span class="identifier">degrees</span><span>) </span><span class="identifier">beside</span><span> 
  </span><span class="identifier">box</span><span>(</span><span class="identifier">color</span><span>, </span><span class="number-literal">15</span><span>.</span><span class="identifier">degrees</span><span>) </span><span class="identifier">beside</span><span>
  </span><span class="identifier">box</span><span>(</span><span class="identifier">color</span><span>, </span><span class="number-literal">20</span><span>.</span><span class="identifier">degrees</span><span>) </span><span class="identifier">beside</span><span>
  </span><span class="identifier">box</span><span>(</span><span class="identifier">color</span><span>, </span><span class="number-literal">45</span><span>.</span><span class="identifier">degrees</span><span>) </span><span class="identifier">beside</span><span>
  </span><span class="identifier">box</span><span>(</span><span class="identifier">color</span><span>, </span><span class="number-literal">60</span><span>.</span><span class="identifier">degrees</span><span>)
}</span></code></pre>
              </div>
            </div>
            <div class="exercise">
              
              <h4 id="exercise-gradient-concentric-circles">Exercise: Gradient Concentric Circles</h4>
              <p>Now implement methods to draw a picture similar to Figure methods:gradient-concentric-circles.
              You should follow a design similar to <code>gradientBoxes</code> to reduce the amount of code you write, but we&#39;re not going to give the method skeletons this time; you have to work it out yourself.</p>
              <p><img src="gradient-concentric-circles.svg" alt="Five concentric circles filled with a gradient starting from Royal Blue" title="Figure Some(#fig:methods:gradient-concentric-circles): caption"></p>
            </div>
            <div class="solution">
              <div class="solution-body">
                <p>There are a number of different ways to write this. 
                We expect you would have two methods, <code>circle</code> and <code>gradientConcentricCircles</code> mirroring the design of <code>box</code> and <code>gradientBoxes</code> above.
                The exact implementation of these two methods, particularly <code>circle</code> is where we&#39;ll see the most difference.</p>
                <p>Here&#39;s our implementation.</p>
                <pre><code class="tut:silent:book">def circle(color: Color, n: Int): Image = 
  Image.circle(50 + (n * 10)).
    strokeColor(color.spin((15 * n).degrees)).
    strokeWidth(3)
    
def concentricCircles(color: Color): Image = {
  circle(color, 0) on
  circle(color, 1) on
  circle(color, 2) on
  circle(color, 3) on
  circle(color, 4)
}</code></pre>
                <p>We could have made <code>circle</code> have separate parameters for the size and spin, but we decided to compute the size and spin from a single number.
                This gives us less flexibility (they cannot vary independently) but more compact code.</p>
              </div>
            </div>
            <div class="flex flex-row justify-between">
                <a class="pageNavigation" href="semantics.html">←Method Semantics</a> <a class="pageNavigation" href="conclusions.html">Conclusions→</a>
            </div>
        </main>
        <footer>Creative Scala is copyright Noel Welsh</footer>
    </div>

    </div>
</body>

</html>
