<!doctype html>
<html lang="">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Laika 0.19.0" />
    <title>Flowers and Other Curves</title>
    
    
    <meta name="description" content="creative-scala" />
    
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Source+Sans+Pro:300,400,600"
        rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Crimson+Pro:400" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../creative-scala.css" />
    <script> /* for avoiding page load transitions */</script>
</head>

<body>
    <nav id="topbar"><p><a href="functions.html">←</a></p>
<p><a href="../../">Creative Scala: Form and Function</a></p>
<p><a href="hof.html">→</a></p></nav>
    <nav id="sidebar">
        <ul class="nav-list">
          <li class="level1 nav-leaf"><a href="../">Creative Scala: Form and Function</a></li>
          <li class="level1 nav-leaf"><a href="../foreword-1.html">Foreword to the First Edition</a></li>
          <li class="level1 nav-leaf"><a href="../foreword-2.html">Foreword to the Second Edition</a></li>
          <li class="level1 nav-node"><a href="../setup/">Getting Started</a></li>
          <li class="level2 nav-leaf"><a href="../setup/background.html">Background</a></li>
          <li class="level2 nav-leaf"><a href="../setup/terminal.html">Installing Terminal Software and a Text Editor</a></li>
          <li class="level2 nav-leaf"><a href="../setup/github.html">GitHub</a></li>
          <li class="level2 nav-leaf"><a href="../setup/intellij.html">IntelliJ</a></li>
          <li class="level2 nav-leaf"><a href="../setup/">Setup</a></li>
          <li class="level1 nav-node"><a href="../expressions/">Expressions, Values, and Types</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/02-starting.html">Starting to Program</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/03-expressions.html">Expressions and Values</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/04-types.html">Types</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/05-exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../expressions/06-summary.html">Summary</a></li>
          <li class="level1 nav-node"><a href="../expanding-expressions/">Expanding Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/02-literals.html">Literal Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/03-objects.html">Values are Objects</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/04-types.html">Types</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../expanding-expressions/04-images.html">Images</a></li>
          <li class="level1 nav-node"><a href="../expressive-expressions/">Expressive Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/02-layout.html">Layout</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/03-color.html">Color</a></li>
          <li class="level2 nav-leaf"><a href="../expressive-expressions/04-creating-color.html">Creating Colors</a></li>
          <li class="level1 nav-node"><a href="../substitution/">The Substitution Model of Evaluation</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/substitution.html">Substitution</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/order.html">Order of Evaluation</a></li>
          <li class="level2 nav-leaf"><a href="../substitution/local-reasoning.html">Local Reasoning</a></li>
          <li class="level1 nav-node"><a href="../methods/">Methods without Madness</a></li>
          <li class="level2 nav-leaf"><a href="../methods/methods.html">Methods</a></li>
          <li class="level2 nav-leaf"><a href="../methods/syntax.html">Method Syntax</a></li>
          <li class="level2 nav-leaf"><a href="../methods/semantics.html">Method Semantics</a></li>
          <li class="level2 nav-leaf"><a href="../methods/writing-methods.html">Writing Methods</a></li>
          <li class="level2 nav-leaf"><a href="../methods/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../recursion/">Structural Recursion over the Natural Numbers</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/boxes.html">A Line of Boxes</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/natural-numbers.html">The Natural Numbers</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/match.html">Match Expressions</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/substitution.html">Reasoning about Recursion</a></li>
          <li class="level2 nav-leaf"><a href="../recursion/conclusions.html">Conclusions</a></li>
          <li class="level1 nav-node"><a href="../fractals/">Fractals</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/nested-methods.html">Nested Methods</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/auxillary-parameter.html">Auxiliary Parameters</a></li>
          <li class="level2 nav-leaf"><a href="../fractals/fractals.html">The Chessboard</a></li>
          <li class="level1 nav-header">turtles</li>
          <li class="level2 nav-leaf"><a href="../turtles/">Turtle Algebra and Algebraic Data Types</a></li>
          <li class="level2 nav-leaf"><a href="../turtles/turtles.html">Controlling the Turtle</a></li>
          <li class="level2 nav-leaf"><a href="../turtles/exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../turtles/branching.html">Branching Structures</a></li>
          <li class="level1 nav-leaf"><a href="../solutions.html">Solutions to Exercises {#solutions}</a></li>
          <li class="level1 nav-header">generative</li>
          <li class="level2 nav-leaf"><a href="../generative/">Composition of Generative Art</a></li>
          <li class="level2 nav-leaf"><a href="../generative/generative.html">Generative Art</a></li>
          <li class="level2 nav-leaf"><a href="../generative/product.html">Combining Random Values</a></li>
          <li class="level2 nav-leaf"><a href="../generative/exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="../generative/for.html">For Comprehensions</a></li>
          <li class="level2 nav-leaf"><a href="../generative/api.html">Exploring Random</a></li>
          <li class="level2 nav-leaf"><a href="../generative/random.html">Randomness without Effect</a></li>
          <li class="level2 nav-leaf"><a href="../generative/flatmap.html">Combining Random Values</a></li>
          <li class="level1 nav-header">adt</li>
          <li class="level2 nav-leaf"><a href="../adt/">Algebraic Data Types To Call Our Own</a></li>
          <li class="level2 nav-leaf"><a href="../adt/turtle.html">Build Your Own Turtle</a></li>
          <li class="level2 nav-leaf"><a href="../adt/adt.html">Algebraic Data Types</a></li>
          <li class="level1 nav-header">declarations</li>
          <li class="level2 nav-leaf"><a href="../declarations/">Declarations</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/color-palette.html">Extended Exercise: Color Palettes</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/method-declarations.html">Method Declarations</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/take-home-points.html">Take Home Points</a></li>
          <li class="level2 nav-leaf"><a href="../declarations/value-declarations.html">Value Declarations</a></li>
          <li class="level1 nav-header">sequences</li>
          <li class="level2 nav-leaf"><a href="../sequences/">Shapes, Sequences, and Stars</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/lists.html">Working with Lists</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/paths.html">Paths</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/map.html">Transforming Sequences</a></li>
          <li class="level2 nav-leaf"><a href="../sequences/stars.html">My God, It&#39;s Full of Stars!</a></li>
          <li class="level1 nav-header">data</li>
          <li class="level2 nav-leaf"><a href="../data/">Creating and Working With Data</a></li>
          <li class="level2 nav-leaf"><a href="../data/case-classes.html">Case Classes</a></li>
          <li class="level2 nav-leaf"><a href="../data/data.html">Data</a></li>
          <li class="level1 nav-header">summary</li>
          <li class="level2 nav-leaf"><a href="../summary/">Summary</a></li>
          <li class="level1 nav-header">fp</li>
          <li class="level2 nav-leaf"><a href="../fp/">(Functional) Programming</a></li>
          <li class="level2 nav-leaf"><a href="../fp/functions.html">Functions as Values</a></li>
          <li class="level2 nav-leaf"><a href="../fp/take-home-points.html">Take Home Points</a></li>
          <li class="level2 nav-leaf"><a href="../fp/recursion.html">Recursive Algorithms</a></li>
          <li class="level1 nav-header">programs</li>
          <li class="level2 nav-leaf"><a href="../programs/">Writing Larger Programs</a></li>
          <li class="level2 nav-leaf"><a href="../programs/console.html">Working Within the Console</a></li>
          <li class="level2 nav-leaf"><a href="../programs/outside-console.html">Coding Outside the Console</a></li>
          <li class="level2 nav-leaf"><a href="../programs/imports.html">Packages and Imports</a></li>
          <li class="level2 nav-leaf"><a href="../programs/abstraction.html">Abstraction</a></li>
          <li class="level2 nav-leaf"><a href="../programs/names.html">Names</a></li>
          <li class="level1 nav-header">quickreference</li>
          <li class="level2 nav-leaf"><a href="../quickreference/">Syntax Quick Reference {#syntax-quick-reference}</a></li>
          <li class="level1 nav-header">hof</li>
          <li class="level2 nav-leaf"><a href="index.html">Horticulture and Higher-order Functions</a></li>
          <li class="level2 nav-leaf"><a href="exercises.html">Exercises</a></li>
          <li class="level2 nav-leaf"><a href="parametric-curves.html">Parametric Curves</a></li>
          <li class="level2 nav-leaf"><a href="conclusions.html">Conclusions</a></li>
          <li class="level2 nav-leaf"><a href="functions.html">Functions</a></li>
          <li class="level2 active nav-leaf"><a href="#">Flowers and Other Curves</a></li>
          <li class="level2 nav-leaf"><a href="hof.html">Higher Order Methods and Functions</a></li>
          <li class="level1 nav-leaf"><a href="../intro.html">Introduction</a></li>
          <li class="level1 nav-header">animation</li>
          <li class="level2 nav-leaf"><a href="../animation/">Animation and Fireworks</a></li>
          <li class="level2 nav-leaf"><a href="../animation/reactor.html">Reactors</a></li>
          <li class="level2 nav-leaf"><a href="../animation/easing.html">Easing Functions</a></li>
          <li class="level1 nav-leaf"><a href="../links.html">links.md</a></li>
          <li class="level1 nav-header">collections</li>
          <li class="level2 nav-leaf"><a href="../collections/">Collections {#collections}</a></li>
          <li class="level2 nav-leaf"><a href="../collections/transform.html">Transforming Sequences</a></li>
          <li class="level2 nav-leaf"><a href="../collections/paths.html">Drawing Paths</a></li>
          <li class="level2 nav-leaf"><a href="../collections/take-home-points.html">Take Home Points</a></li>
          <li class="level2 nav-leaf"><a href="../collections/create.html">Creating Sequences</a></li>
        </ul>
    </nav>

    <div id="content">
        <main class="content">
            <h1 id="flowers-and-other-curves" class="title">Flowers and Other Curves</h1>
            <p>In the previous section we saw that is was useful for methods to accept functions as parameters. In this section we&#39;ll see that it is useful for methods to return functions.</p>
            <p>We&#39;ve seen all the basic steps we need to make our flowers. Now we just need to know the curve that makes the flower shape! The shape I used is known as the <a href="https://en.wikipedia.org/wiki/Rose_(mathematics)">rose curve</a>. One example is shown in Figure hof:rose7. </p>
            <p><img src="src/pages/hof/rose7.pdf+svg" alt="An example of the rose curve." title="Figure Some(#fig:hof:rose7): caption"></p>
            <p>The code for the parametric curve that gives this shape is below.</p>
            <pre><code class="nohighlight"><span class="comment">// Parametric equation for rose with k = 7
</span><span class="keyword">val</span><span> </span><span class="identifier">rose7</span><span> = (</span><span class="identifier">angle</span><span>: </span><span class="type-name">Angle</span><span>) =&gt;
  </span><span class="type-name">Point</span><span>((</span><span class="identifier">angle</span><span> * </span><span class="number-literal">7</span><span>).</span><span class="identifier">cos</span><span> * </span><span class="number-literal">200</span><span>, </span><span class="identifier">angle</span><span>)</span></code></pre>
            <p>You may wonder why I called this function <code>rose7</code>. It&#39;s because we can vary the shape by changing the value <code>7</code> to something else. We could make a method or function to which we pass the value of this parameter and this function would return a particular rose curve. Here&#39;s that idea in code.</p>
            <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">rose</span><span>(</span><span class="identifier">k</span><span>: </span><span class="type-name">Int</span><span>): </span><span class="type-name">Angle</span><span> =&gt; </span><span class="type-name">Point</span><span> =
  (</span><span class="identifier">angle</span><span>: </span><span class="type-name">Angle</span><span>) =&gt; </span><span class="type-name">Point</span><span>((</span><span class="identifier">angle</span><span> * </span><span class="identifier">k</span><span>).</span><span class="identifier">cos</span><span> * </span><span class="number-literal">200</span><span>, </span><span class="identifier">angle</span><span>)</span></code></pre>
            <p>The <code>rose</code> method describes a family of curves. They all look similar, and we create individuals by choosing a particular value for the parameter <code>k</code>. In Figure hof:rose we show more rose curves, this time with <code>k</code> as 5, 8, and 9 respectively.</p>
            <p><img src="src/pages/hof/rose.pdf+svg" alt="Examples of rose curves, with the parameter k chosen as 5, 8, or 9." title="Figure Some(#fig:hof:rose): caption"></p>
            <p>Let&#39;s look at some other interesting curves. In Figure hof:lissajous we show examples of a family of curves called <a href="https://en.wikipedia.org/wiki/Lissajous_curve">Lissajous curves</a>.</p>
            <p><img src="src/pages/hof/lissajous.pdf+svg" alt="Examples of Lissajous curves, with the parameters a and b chosen as 1, 2, or 3." title="Figure Some(#fig:hof:lissajous): caption"></p>
            <p>The code for this is</p>
            <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">lissajous</span><span>(</span><span class="identifier">a</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">b</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">offset</span><span>: </span><span class="type-name">Angle</span><span>): </span><span class="type-name">Angle</span><span> =&gt; </span><span class="type-name">Point</span><span> =
  (</span><span class="identifier">angle</span><span>: </span><span class="type-name">Angle</span><span>) =&gt;
    </span><span class="type-name">Point</span><span>(</span><span class="number-literal">100</span><span> * ((</span><span class="identifier">angle</span><span> * </span><span class="identifier">a</span><span>) + </span><span class="identifier">offset</span><span>).</span><span class="identifier">sin</span><span>, </span><span class="number-literal">100</span><span> * (</span><span class="identifier">angle</span><span> * </span><span class="identifier">b</span><span>).</span><span class="identifier">sin</span><span>)</span></code></pre>
            <p>The examples in Figure hof:lissajous use values of <code>a</code> and <code>b</code> of 1, 2, or 3, and the <code>offset</code> set to 90 degrees.</p>
            <p>There are an unlimited number of functions we could use to create interesting curves. Let&#39;s see one more example, this time of what known as an <a href="https://en.wikipedia.org/wiki/Epicycloid">epicycloid</a>. An epicycloid is produced when we trace a point on a circle rotating around another circle. We can stack circles on top of circles, and change the speed at which they rotate, to produce many different curves. For our example we are going to fix the number and radius of the circles and allow their speed of rotation to vary. Here is the code:</p>
            <pre><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">epicycloid</span><span>(</span><span class="identifier">a</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">b</span><span>: </span><span class="type-name">Int</span><span>, </span><span class="identifier">c</span><span>: </span><span class="type-name">Int</span><span>): </span><span class="type-name">Angle</span><span> =&gt; </span><span class="type-name">Point</span><span> =
  (</span><span class="identifier">angle</span><span>: </span><span class="type-name">Angle</span><span>) =&gt;
    (</span><span class="type-name">Point</span><span>(</span><span class="number-literal">75</span><span>, </span><span class="identifier">angle</span><span> * </span><span class="identifier">a</span><span>).</span><span class="identifier">toVec</span><span> + </span><span class="type-name">Point</span><span>(</span><span class="number-literal">32</span><span>, </span><span class="identifier">angle</span><span> * </span><span class="identifier">b</span><span>).</span><span class="identifier">toVec</span><span> + </span><span class="type-name">Point</span><span>(</span><span class="number-literal">15</span><span>, </span><span class="identifier">angle</span><span> * </span><span class="identifier">c</span><span>).</span><span class="identifier">toVec</span><span>).</span><span class="identifier">toPoint</span></code></pre>
            <p>You might notice this code converts points to vectors and back again. This is a little technical detail (we cannot add points but we can add vectors) that isn&#39;t important if you aren&#39;t familiar with vectors.</p>
            <p>In Figure hof:epicycloid we see three examples created by choosing the parameters a, b, c, as (1, 6, 14), (7, 13, 25), and (1, 7, -21) respectively.</p>
            <p><img src="src/pages/hof/epicycloid.pdf+svg" alt="Examples of epicycloid curves, with the parameters chosen as (1, 6, 14), (7, 13, 25), and (1, 7 -21)." title="Figure Some(#fig:hof:epicycloid): caption"></p>
            
            <h4 id="exercise" class="section">Exercise {-}</h4>
            <p>We now have a lot of tools to play with. Your task here is simply to use some of the ideas we&#39;ve just seen to make an image that you like. For inspiration you could use the image that we started the chapter with, but don&#39;t let it constrain you if you think of something else to explore.</p>
            <p class="nextPage"><a href="hof.html">Higher Order Methods and Functions→</a></p>
        </main>
        <footer>Creative Scala is copyright Noel Welsh</footer>
    </div>

    </div>
</body>

</html>